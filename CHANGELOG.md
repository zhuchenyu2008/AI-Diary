# 更新日志

## [2.0.0] - 2025-07-30

### 🔥 新增功能

#### 实时AI理解输出
- 用户发送文字或图片后，今日记录中实时显示AI理解进度
- 添加"AI理解中"状态提示
- 一旦AI分析完成，立即显示分析结果
- 保留刷新按钮作为备选方案

#### 设置页面优化
- 移除进入设置时的多余登录验证
- 优化密码管理逻辑
- 支持首次进入时设置密码
- 添加密码重置功能

#### 中文网站识别
- 修复浏览器识别问题，正确识别为中文网站
- 优化中文用户界面体验
- 完善中文字体和排版

#### 图片功能增强
- 支持直接调用手机摄像头拍照
- 分离"拍照"和"上传图片"两个独立按钮
- 修复纯图片发送的API错误（400错误）
- 优化图片上传和显示逻辑
- 添加摄像头权限申请支持

#### MCP集成
- 集成Model Context Protocol (MCP)
- 实现多维度上下文信息获取：
  - 时间服务器：提供当前时间和日期
  - 位置服务器：获取用户地理位置（需要权限）
  - 天气服务器：获取天气信息（需要API密钥）
  - 系统服务器：提供系统信息
- 提供可视化配置界面
- 支持权限管理和API密钥配置
- 实现服务器测试功能

#### 移动端优化
- 完全响应式设计重构
- 触摸友好的按钮尺寸（最小44px）
- 移动端安全区域支持（刘海屏等）
- 优化移动端滚动体验
- 响应式文字大小和间距
- 移动端弹窗和模态框优化
- 平板端和横屏适配
- 高DPI屏幕优化
- 深色模式移动端支持

### 🔧 API完善
- 完善API文档和接口说明
- 添加MCP相关API端点
- 优化错误处理和状态码
- 改进API响应格式

### 🐛 修复问题
- 修复设置页面不必要的登录提示
- 解决纯图片发送的API错误
- 修复移动端界面显示问题
- 优化AI分析状态轮询逻辑

### 📚 文档更新
- 完善README文档
- 添加详细的项目结构说明
- 更新API文档
- 添加MCP集成说明
- 完善部署指南

### 🧪 测试改进
- 添加全面的功能测试
- 移动端适配测试
- API接口测试
- MCP功能测试

## [1.0.0] - 2025-07-29

### 初始版本
- 基础日记记录功能
- AI分析和理解
- 用户认证系统
- 历史记录查看
- 定时总结功能

